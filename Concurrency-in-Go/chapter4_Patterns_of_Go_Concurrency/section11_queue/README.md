# 4.11 Queue

キューがシステム全体の性能を向上させうる状況を分析していってみましょう。これが当てはまる状況は次の2つだけです。

* ステージ内でのバッチによるリクエストが時間を節約する場合
* ステージにおける遅延がシステムにフィードバックループを発生させる場合

### ステージ内でのバッチによるリクエストが時間を節約する場合 の例

```go
```

### ステージにおける遅延がシステムにフィードバックループを発生させる場合

2つ目のシナリオは1つ目よりも重要です。その理由は、この状況は上流のシステムを全体的に崩壊させる可能性があるからです。

これはパイプラインと上流のシステムの間に再帰的な関係がある場合に発生します。たとえば上流のステージやシステムが送信する新しいリクエストの割合がパイプラインの効率になんらかの形で影響している場合です。

パイプラインの効率が